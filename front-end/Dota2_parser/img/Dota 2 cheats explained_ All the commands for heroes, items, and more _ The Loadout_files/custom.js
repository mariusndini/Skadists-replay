function ResponsiveInfo(){this.screenWidth=document.documentElement.clientWidth||document.body.clientWidth,this.responsiveBreakpoint=900,this.isResponsive=this.screenWidth<this.responsiveBreakpoint,this.timerObj={},ResponsiveInfo.prototype.checkResponsive=function(){return this.screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.isResponsive=this.screenWidth<this.responsiveBreakpoint,this.isResponsive},ResponsiveInfo.prototype.throttle=function(e,t){return currentTime=Date.now(),prevTime=this.timerObj[t],this.timerObj[t]||(this.timerObj[t]=currentTime+e),prevTime&&prevTime+e<currentTime?(this.timerObj[t]=currentTime,!0):!prevTime&&(this.timerObj[t]=currentTime,!0)}}function applyTextLinks(e){e(".entry-content p a").attr("target","_blank"),e(".entry-content p a:not(:has(img, span))").addClass("text_link"),e(".entry-content li a:not(:has(img, span))").addClass("text_link"),e(".entry-content table a:not(:has(img, span))").addClass("text_link"),e(".entry-content #Release_date_panel a:not(:has(img, span))").addClass("text_link"),e(".entry-content .indentedText a:not(:has(img, span))").addClass("text_link");var t=["#patch_notes_nav_rail",".game_info_panel",".gallery_slider_rail"];t=t.join(", "),e(".entry-content div").not(t).find("> a:not(:has(img, span))").addClass("text_link")}function clampLinesItems(e){for(var t=e.querySelectorAll(".clamp"),n=0;n<t.length;n++)for(var i=t[n],a=i.querySelector("a"),r=i.clientHeight;a.offsetHeight>r;){var o=a.textContent.lastIndexOf(" ");a.textContent=a.textContent.substring(0,o)+"..."}}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.timeago=t()}(this,function(){"use strict";var e="second_minute_hour_day_week_month_year".split("_"),t="秒_分钟_小时_天_周_月_年".split("_"),n=[60,60,24],i={en:function(t,n){if(0===n)return["just now","right now"];var i=e[parseInt(n/2)];return t>1&&(i+="s"),[t+" "+i+" ago","in "+t+" "+i]},zh_CN:function(e,n){if(0===n)return["刚刚","片刻后"];var i=t[parseInt(n/2)];return[e+" "+i+"前",e+" "+i+"后"]}},a=function(e){return parseInt(e)},r=function(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(a(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e))},o=function(e,t,r){t=i[t]?t:i[r]?r:"en";for(var o=0,s=e<0?1:0,c=e=Math.abs(e);e>=n[o]&&o<n.length;o++)e/=n[o];return(e=a(e))>(0==(o*=2)?9:1)&&(o+=1),i[t](e,o,c)[s].replace("%s",e)},s=function(e,t){return((t=t?r(t):new Date)-r(e))/1e3},c=function(e,t){return e.getAttribute?e.getAttribute(t):e.attr?e.attr(t):void 0},l=function(e){return c(e,"data-timeago")||c(e,"datetime")},d=[],u=function(e){e&&(clearTimeout(e),delete d[e])},h=function(e){if(e)u(c(e,"data-tid"));else for(var t in d)u(t)},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nowDate=t,this.defaultLocale=n||"en"}return p(e,[{key:"setLocale",value:function(e){this.defaultLocale=e}},{key:"doRender",value:function(e,t,i){var a=this,r=s(t,this.nowDate);e.innerHTML=o(r,i,this.defaultLocale);var c=function(e,t){var n=setTimeout(function(){u(n),e()},t);return d[n]=0,n}(function(){a.doRender(e,t,i)},Math.min(1e3*function(e){for(var t=1,i=0,a=Math.abs(e);e>=n[i]&&i<n.length;i++)e/=n[i],t*=n[i];return a=(a%=t)?t-a:t,Math.ceil(a)}(r),2147483647));!function(e,t){e.setAttribute?e.setAttribute("data-tid",t):e.attr&&e.attr("data-tid",t)}(e,c)}},{key:"render",value:function(e,t){void 0===e.length&&(e=[e]);for(var n=void 0,i=0,a=e.length;i<a;i++)n=e[i],h(n),this.doRender(n,l(n),t)}},{key:"format",value:function(e,t){return o(s(e,this.nowDate),t,this.defaultLocale)}}]),e}(),m=function(e,t){return new f(e,t)};return m.register=function(e,t){i[e]=t},m.cancel=h,m}),window.responsiveInfo=new ResponsiveInfo,function(e){function t(t){if("closetheiframe"===t.data){e.featherlight.current().close()}"resizetheiframe_reg"===t.data&&e(".featherlight-content iframe").attr("height",850),"resizetheiframe_log"===t.data&&e(".featherlight-content iframe").attr("height",527)}function n(e){s<h&&(e?s++:s--,c=l*s,f.css("top",c+"px"),s===h&&(tmpPanel=f,f=m,m=tmpPanel,f.css("top","0px"),s=0),s===h-3&&m.css("display","none"),s===h-2&&m.css("top",-1*l+"px"),s===h-1&&m.css("display","block"))}function i(){o&&n(!0),r=setTimeout(i,d)}var a=function(e,t,n){var i=window.open(e,t,n),a=window.setInterval(function(){try{(null==i||i.closed)&&window.clearInterval(a)}catch(e){}},1e3);return i};e("#menu-primary_navigation").addClass("enabled"),e(".header-search").click(function(t){t.preventDefault(),e("#header-searchbox").toggleClass("searchbox-active"),e("#menu-primary_navigation").toggleClass("enabled"),e("#header-search-input").focus(),e("#menu-primary_navigation").hasClass("enabled")&&e("#menu_toggle input").prop("checked",!1)}),e("#menu_toggle input").click(function(){if(e("#header-searchbox").hasClass("searchbox-active")&&!0===e(this).prop("checked")&&e("#header-searchbox").removeClass("searchbox-active"),!e(this).prop("checked")){var t=document.getElementById("mobile-more-list");null!==t&&(t.style.display="none"),window.mobile_scripts.moreVisible=!1,e(".menu-header-more").removeClass("more-active")}}),e("body").delegate(".social-sharing-element","click",function(t){t.preventDefault();var n=(e(window).width()-575)/2,i=(e(window).height()-400)/2,r=e(this).attr("href");a(r,"SocialShare","status=1,width=575,height=400,top="+i+",left="+n)}),window.addEventListener("message",t,!1);var r,o=!0,s=0,c=0,l=-30,d=2e3,u=e(".readmore_letterbox").children("ul"),h=u.children("li").length,p=u.clone();p.css("top",-1*l+"px"),e(".readmore_letterbox").append(p);var f=u,m=p;responsiveInfo.isResponsive||i(),e(".readmore_pause").click(function(){o=!o,e(this).parent().toggleClass("isPaused")}),e(".readmore_prev").click(function(){s>0&&(clearTimeout(r),n(!1),r=setTimeout(i,d))}),e(".readmore_next").click(function(){clearTimeout(r),n(!0),r=setTimeout(i,d)}),applyTextLinks(jQuery)}(jQuery),window.addEventListener("NextPageContentLoaded",function(e){if(!responsiveInfo.isResponsive){var t=e.detail;document.querySelector(t.targetElement);applyTextLinks(jQuery);var n=document.getElementsByClassName("featured_video_container"),i=n[n.length-1];void 0!==i&&(i.id="spanner",featuredVideo.loadFeaturedVideo(i.dataset.ytid,i.dataset.vidstart,i.dataset.vidend,"spanner"),onYouTubeIframeAPIReady())}});var cmp_link=document.getElementById("menu-primary_navigation").getElementsByClassName("cmp_link")[0];cmp_link&&cmp_link.addEventListener("click",function(e){e.preventDefault(),__cmp("showConsentModal")});
//# sourceMappingURL=custom.js.map
