function Mobile_Scripts(){this.screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.topMenu=document.getElementById("menu-primary_navigation"),this.footer=null,this.menuItems=null;var e=this;this.screenWidthFlag="",this.screenWidth<901?this.screenWidthFlag="desktop":this.screenWidthFlag="mobile",this.handleResize=function(){this.screenWidth=document.documentElement.clientWidth||document.body.clientWidth,this.screenWidth<901?"desktop"===e.screenWidthFlag&&(e.screenWidthFlag="mobile"):"mobile"===e.screenWidthFlag&&(e.screenWidthFlag="desktop"),console.log(e.screenWidthFlag)},this.showHideMore=function(){},this.addFooterToDropdown=function(){var e=document.getElementsByClassName("site-footer");e.length>0&&"FOOTER"===e[0].nodeName&&(this.footer=e[0],mobile_footer=e[0].cloneNode(!0),mobile_footer.children[0].removeChild(mobile_footer.children[0].children[1]),mobile_footer.className="mobile-site-footer",this.topMenu.appendChild(mobile_footer))},this.addPagesToDropdown=function(){pagesElement=document.getElementById("header-more"),this.menuItems=document.createElement("ul"),this.menuItems.className="more-list",this.menuItems.id="mobile-more-list",this.moreVisible=!1;if(null!=pagesElement){var e=pagesElement.children[0],t=e.getElementsByClassName("header-dropdown-item");for(i=0;i<t.length;i++)item=t[i].getElementsByClassName("header-dropdown-item-more"),li_item=document.createElement("li"),li_item.appendChild(item[0].childNodes[0]),this.menuItems.appendChild(li_item);this.topMenu.appendChild(this.menuItems),window.topMenu=this.menu}},this.enableMobileDropdowns=function(){this.navMenu=document.getElementById("menu-primary_navigation"),this.targets=this.navMenu.childNodes;for(var e=0;e<this.targets.length;e++)if(this.targets[e].classList&&this.targets[e].classList.contains("menu-item-has-children")){var t=this.targets[e].getElementsByTagName("a")[0];if(!t.parentElement.classList.contains("all-exclude")){var i=this.targets[e].getElementsByClassName("sub-menu")[0],n=document.createElement("li");n.classList.add("menu-item");var s=document.createElement("a");s.href=t.href,s.innerHTML="All "+t.textContent,n.appendChild(s),i.appendChild(n)}t.addEventListener("click",function(e){var t=e.target.parentElement,i=document.getElementsByClassName("menu-dropdown-active")[0];i&&i.classList.remove("menu-dropdown-active"),e.preventDefault(),i&&i===t||t.classList.toggle("menu-dropdown-active")})}},this.changeSectionLinkStatus=function(e){var t=document.getElementsByClassName("preserveLink");if(null!==t)switch(e){case"enable":console.log("Removing mobile event listeners from Desktop anchor elements");for(var i=0;i<t.length;i++)t[i].removeEventListener("click");break;case"disable":console.log("Adding mobile event listeners to relevant menu items");break;default:return!1}},responsiveInfo.isResponsive&&(this.addPagesToDropdown(),this.addFooterToDropdown()),this.handleResize(),this.enableMobileDropdowns()}function Mobile_Image_Comparison(){responsiveInfo.isResponsive&&(this.screenWidth=document.documentElement.clientWidth||document.body.clientWidth,this.widgets=document.getElementsByClassName("image_comparison"),this.img_width=this.screenWidth,this.img_height=16*this.img_width/9,this.fixImageHeights=function(){for(i=0;i<this.widgets.length;i++){cur_widget=this.widgets[i];cur_widget.querySelector(".ic_img_primary img").style.width=this.img_width+20+"px";cur_widget.querySelector(".ic_img_secondary img").style.width=this.img_width+20+"px"}},this.fixImageHeights())}function gameInfoButtonInteract(e){var t;t=e.target.classList.contains("game_info_button")?e.target:e.target.parentElement;var i=t.parentElement,n=i.querySelector("#info_arrow"),s=i.parentElement.querySelector(".game_info_panel"),o=i.parentElement.querySelector(".nn_taxonomy_section"),a=i.parentElement.querySelector(".site-disclaimer");n.classList.contains("info_arrow_down")?(n.classList.remove("info_arrow_down"),n.classList.add("info_arrow_up")):n.classList.contains("info_arrow_up")&&(n.classList.remove("info_arrow_up"),n.classList.add("info_arrow_down")),null!==s&&s.classList.toggle("mobile-info--active"),null!==o&&o.classList.toggle("mobile-tax--active"),null!==a&&a.classList.toggle("mobile-disclaimer--active")}function gameInfoButtonSetup(e){for(var t=document.getElementsByClassName("game_info_button"),i=0;i<t.length;i++)button=t[i],button.addEventListener("click",gameInfoButtonInteract)}window.mobile_scripts=new Mobile_Scripts,window.addEventListener("resize",mobile_scripts.handleResize),window.comparison_widgets=new Mobile_Image_Comparison,document.addEventListener("DOMContentLoaded",gameInfoButtonSetup),window.addEventListener("NextPageContentLoaded",gameInfoButtonSetup);
//# sourceMappingURL=mobile.js.map
